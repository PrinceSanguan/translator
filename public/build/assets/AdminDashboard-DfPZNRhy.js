import{K as f,j as e,S as y}from"./app-B1N67lL4.js";import{C as a,a as i,b as c,c as l}from"./card-Cl1tUcmP.js";import{c as g}from"./createLucideIcon-IfHDXuDB.js";import{U as m}from"./users-DfO7Uot_.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],b=g("Calendar",p);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],v=g("Eye",u);function U({users:n,analytics:r}){const{auth:N}=f().props,o=new Date().getMonth(),h=new Date().getFullYear(),j=n.filter(s=>{const t=new Date(s.created_at);return t.getMonth()===o&&t.getFullYear()===h}).length,x=n.filter(s=>{const t=new Date(s.created_at);return t.getMonth()===o-1&&t.getFullYear()===h}).length,d=x!==0?((j-x)/x*100).toFixed(1):"100";return e.jsx("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900",children:e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[e.jsx("header",{className:"bg-white shadow-sm dark:bg-gray-800",children:e.jsxs("div",{className:"flex flex-col gap-4 px-6 py-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("div",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Admin Panel"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:N.user.name}),e.jsx("button",{onClick:()=>y.get("/logout"),className:"rounded-lg px-4 py-2 text-sm text-red-600 transition-colors hover:bg-red-50",children:"Logout"})]})]})}),e.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:e.jsxs("div",{className:"mx-auto max-w-6xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Dashboard Analytics"}),e.jsx("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:"Website traffic and user engagement metrics"}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(a,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Daily Visits"}),e.jsx(v,{size:16,className:"text-gray-500 dark:text-gray-400"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.dailyVisits}),e.jsx("p",{className:"text-xs text-gray-500",children:"Page views today"})]})]}),e.jsxs(a,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Monthly Visits"}),e.jsx(b,{size:16,className:"text-gray-500 dark:text-gray-400"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.monthlyVisits}),e.jsx("p",{className:"text-xs text-gray-500",children:"Total views this month"})]})]}),e.jsxs(a,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Daily Unique Visitors"}),e.jsx(m,{size:16,className:"text-gray-500 dark:text-gray-400"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.dailyUniqueVisitors}),e.jsx("p",{className:"text-xs text-gray-500",children:"Unique visitors today"})]})]}),e.jsxs(a,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Monthly Unique Visitors"}),e.jsx(m,{size:16,className:"text-gray-500 dark:text-gray-400"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.monthlyUniqueVisitors}),e.jsx("p",{className:"text-xs text-gray-500",children:"Unique visitors this month"})]})]})]}),e.jsx("div",{className:"mt-6",children:e.jsxs(a,{children:[e.jsx(i,{children:e.jsx(c,{children:"Most Visited Pages"})}),e.jsx(l,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full min-w-[600px]",children:[e.jsx("thead",{className:"border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 text-left",children:"URL"}),e.jsx("th",{className:"p-4 text-right",children:"Visits"})]})}),e.jsxs("tbody",{children:[r.topPages.map((s,t)=>e.jsxs("tr",{className:"border-b hover:bg-gray-50 dark:hover:bg-gray-800",children:[e.jsx("td",{className:"p-4 text-sm font-medium",children:s.url}),e.jsx("td",{className:"p-4 text-right",children:s.count})]},t)),r.topPages.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"p-4 text-center text-gray-500",children:"No data available"})})]})]})})})]})})]}),e.jsxs("div",{className:"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"User Management"}),e.jsxs("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:["Manage all registered users (",n.length," total)"]})]}),e.jsxs(a,{className:"w-full md:w-auto",children:[e.jsxs(i,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Monthly Growth"}),e.jsx(m,{size:16,className:"text-gray-500 dark:text-gray-400"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:j}),e.jsxs("p",{className:`flex items-center text-xs ${Number(d)>=0?"text-green-500":"text-red-500"}`,children:[Number(d)>=0?"↑":"↓",Math.abs(Number(d)),"% from last month"]})]})]})]}),e.jsx(a,{children:e.jsx(l,{className:"overflow-x-auto p-0",children:e.jsxs("table",{className:"w-full min-w-[600px]",children:[e.jsx("thead",{className:"border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 text-left",children:"User"}),e.jsx("th",{className:"p-4 text-left",children:"Role"}),e.jsx("th",{className:"p-4 text-left",children:"Last Login"}),e.jsx("th",{className:"p-4 text-left",children:"Registered"})]})}),e.jsx("tbody",{children:n.map(s=>e.jsxs("tr",{className:"border-b hover:bg-gray-50 dark:hover:bg-gray-800",children:[e.jsxs("td",{className:"p-4",children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.email})]}),e.jsx("td",{className:"p-4 capitalize",children:s.user_role}),e.jsx("td",{className:"p-4",children:s.last_login_at?new Date(s.last_login_at).toLocaleDateString():"Never"}),e.jsx("td",{className:"p-4",children:new Date(s.created_at).toLocaleDateString()})]},s.id))})]})})})]})})]})})}export{U as default};
